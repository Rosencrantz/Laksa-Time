<!DOCTYPE html> 
<html lang="en"> 
<head> 
    <meta charset="utf-8" /> 
    <title>Is it laksa time yet?</title> 
    <script type="text/javascript" src="tock.js"></script>
    <style type="text/css"> 
    body { background: white; color: black; text-align: center; font-family: sans-serif; }
    .assistive { position: absolute; left: -5000px; width: 4000px; overflow: hidden; top: 0; height: 0; }
    #isitlaksatime { font-size: 10em; margin: 10% 5% 0 5%; text-shadow: 3px 3px 3px #ddd; }
    .long #isitlaksatime { font-size: 6em; }
    </style> 
 
</head> 
<body> 
    <h1 class="assistive">is it laksa time yet?</h1> 
    <p id="isitlaksatime"> 
        <noscript><a href="http://twitter.com/home/?status=Oi%20@rioter,%20is%20it%20laksa%20time%20yet?%20http://isitlaksatimeyet.200ok.com.au/">Ask Jared</a>.</noscript> 
    </p> 
 <script>
//Get the start time of the next event
var currentTime = TickTock(new Date(Date.now())),
    startTime = TickTock(new Date(Date.now())),
    endTime,
    notYet,
    getReady,
    nearly,
    soon;

//Set the appropriate alert times.
startTime.setTimeOfDay(12, 0, 0) //.addDays((5 - startTime.getDay() + 7) % 7);
endTime = TickTock(new Date(startTime)).addHours(1);
notYet = TickTock(new Date(startTime)).addHours(-2);
getReady = TickTock(new Date(startTime)).addHours(-1);
nearly = TickTock(new Date(startTime)).addMinutes(-45);
soon = TickTock(new Date(startTime)).addMinutes(-30);

//Check the time. What time is it?
currentTime.isBefore(notYet, function() { document.getElementById('isitlaksatime').innerHTML = '<p>No</p>'; });
currentTime.isDuring(notYet, getReady, function() {  document.getElementById('isitlaksatime').innerHTML = '<p>Not yet</p>';});
currentTime.isDuring(getReady, nearly, function() {  document.getElementById('isitlaksatime').innerHTML = '<p>Get ready</p>';});
currentTime.isDuring(nearly, soon, function() {  document.getElementById('isitlaksatime').innerHTML = '<p>Nearly</p>'; });
currentTime.isDuring(soon, startTime, function() {  document.getElementById('isitlaksatime').innerHTML = '<p>Soon</p>'; });
currentTime.isDuring(startTime, endTime, function() {  document.getElementById('isitlaksatime').innerHTML = '<p>Yes</p>'; });
currentTime.isAfter(endTime, function() {  document.getElementById('isitlaksatime').innerHTML = '<p>No</p>'; });
</script>
</body> 
</html> 
